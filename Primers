from Bio.Seq import Seq
from Bio.Alphabet import generic_dna

# Define DNA sequence
dna_seq = 'ATCGATCGATCGATCGATCGATCGATCGATCG'

# Define parameters for primer design
desired_tm = 60.0 # desired melting temperature
min_len = 18 # minimum length of primer
max_len = 25 # maximum length of primer
gc_range = (40, 60) # desired range for GC content
max_repeat = 3 # maximum number of repeated nucleotides in primer
target_amplicon_size = 200 # desired size of amplicon

# Generate candidate primers
primers = []
for i in range(len(dna_seq)):
    for j in range(i + min_len, i + max_len + 1):
        if j <= len(dna_seq):
            primer = dna_seq[i:j]
            gc_content = (primer.count('G') + primer.count('C')) / len(primer) * 100
            if gc_range[0] <= gc_content <= gc_range[1] and \
                not any(primer[k] == primer[k+1] == primer[k+2] for k in range(len(primer)-2)):
                primers.append(primer)

# Score candidate primers based on desired Tm
scored_primers = []
for primer in primers:
    tm = 64.9 + 41 * (primer.count('G') + primer.count('C') - 16.4) / len(primer)
    score = abs(desired_tm - tm)
    scored_primers.append((primer, score))

# Sort scored primers by score and select the best one
sorted_primers = sorted(scored_primers, key=lambda x: x[1])
best_primer = sorted_primers[0][0]

# Reverse complement the best primer to generate the reverse primer
reverse_primer = best_primer.translate(str.maketrans('ATCG', 'TAGC'))[::-1]

# Print the best forward and reverse primers
print('Forward primer:', best_primer)
print('Reverse primer:', reverse_primer)
